Парсинг
Как только браузер получает первый кусочек данных, он сразу начинает обрабатывать получаемую информацию. Эта обработка называется "Парсинг" (Parsing). Во время парсинга получаемые данные преобразуются в DOM и CSSOM (en-US), которые напрямую участвуют в отрисовке.

DOM (Объектная модель документа) - это внутреннее представление разметки HTML. Браузер предоставляет доступ к манипуляции объектами этой модели через разные JavaScript API.

Даже если ответ на запрос больше 14КБ, браузер всё равно начинает парсинг данных и пытается отрисовать страницу с теми данными, которые уже доступны. Именно поэтому при оптимизации производительности очень важно включать в инициирующий 14КБ ответ все необходимые для рендера данные - так браузер сможет быстрее начать формирование страницы. Однако, прежде чем что-либо появится на экране, HTML, CSS и JavaScript должны быть обработаны.

Построение дерева объектной модели документа
Мы уже рассказывали о пяти шагах в критическом пути рендеринга.

Первый шаг - это обработка разметки HTML и построение дерева DOM. Обработка HTML включает в себя токенизацию и построение дерева. HTML-токены состоят из тегов старта и финиша, а также атрибутов. Если документ сформирован правильно, его обработка прямолинейна и быстра. Парсер (обработчик) преобразует входящие токены в документ и строит дерево документа.

Объектная модель документа (DOM) описывает содержимое документа. Элемент &lt;html&gt; - это первый тег и корневой элемент дерева документа. Дерево отражает связи и иерархию между разными тегами. Теги, вложенные в другие теги являются детьми. Чем больше существует узлов в дереве, тем сложнее это дерево построить.

Когда парсер находит неблокирующие ресурсы (например, изображения), браузер отправляет запрос на загрузку ресурсов, но сам продолжает обработку. Обработка может продолжаться когда обнаружена ссылка на CSS файл, но если обнаружен &lt;script>, особенно если он без параметров async или defer - такой скрипт считается блокирующим и приостанавливает обработку HTML до завершения загрузки скрипта. Несмотря на то, что сканер предзагрузки (о нём ниже) браузера может находить и запрашивать такие скрипты заранее, сложные и объёмные скрипты всё ещё могут стать причиной заметных задержек загрузки страницы.

Дерево отображения (RenderTree)
Браузер создает дерево, в котором визуальные элементы размещаются в том порядке, в каком их необходимо вывести на экран.

Компоновка (Layout или Reflow)
Когда только что созданный объект отображения включается в дерево, он не имеет ни размера, ни положения. Расчет этих значений называется компоновкой (layout или reflow).

Отрисовка (Paint)
На этапе отрисовки для каждого объекта отображения по очереди вызывается метод paint.

Композитинг (Compositing)
До этого момента браузер не отобразил на экране ни одного пиксела. Он лишь составил отдельные слои (bitmap изображения), которые должны быть отрисованы на экране в правильном порядке. Процедура композитинга подразумевает отправку этих слоев в GPU, чтобы отрисовать на экране цельное изображение.

После того как страница впервые была отображена на экране, с ней начинает взаимодействовать пользователь. Именно в процессе работы могут происходить повторные раскладки и отрисовки – repaint и reflow. И неграмотно написанный код сильно ухудшает производительность этих процессов, а следовательно user experience.

Что вызывает Reflow и Repaint
Repaint происходит, когда мы меняем видимость, «одежду» элемента, но не его размеры. Например: opacity, background-color, visibility, outline.

Reflow – это процесс, который реагирует на изменение размеров и позиции на экране. Это более дорогой процесс, так как необходимо пересчитать размеры и позиции всех элементов, затронутых изменениями: дочерних, родительских и соседних. Reflow является одной из главных причин «медленных» скриптов, особенно когда речь о телефонах. Во многих случаях данный процесс равносилен загрузке страницы заново (глобальный reflow).

Также отмечу, что и Repaint, и Reflow являются блокирующими.
Ни приложение, ни пользователь не смогут выполнить какое-либо действие, пока эти процессы не будут завершены.

Триггеры Reflow
Добавление, удаление или изменение DOM элемента
Когда мы меняем структуру DOM посредством JavaScript, логично, что нам надо заново пересобрать и отрисовать документ

Добавление, удаление или изменение CSS стилей
Изменяя напрямую стили элемента (через DOM), или работая с атрибутом class мы также можем «задеть» значение раскладки (размеры и позиция). К примеру, изменяя ширину блока мы затрагиваем дочерние, родительские и соседние элементы.

CSS3 animations и transitions
Каждый фрейм анимации будет вызывать Reflow

Использование offsetWidth, offsetHeight
Даже просто прочитав эти свойства мы вызываем Reflow

Действия пользователя
активация a:hover эффекта
ввод текст в input
изменение размера окна (viewport)
изменение размера шрифта
переключение стилей или шрифтов

[Подробно](https://telegra.ph/Repaint-i-Reflow-03-19)

[Подробно](https://developer.mozilla.org/ru/docs/Web/Performance/How_browsers_work)
